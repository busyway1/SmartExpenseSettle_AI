"""
수출신고필증 분석 프롬프트
"""

def get_export_declaration_prompt(text: str, file_name: str = "", page_number: int = None) -> str:
    """수출신고필증 분석 프롬프트 생성"""
    base_prompt = f"""
다음은 수출신고필증 문서입니다. 이는 개별 문서이므로 해당 문서에서만 정보를 추출해주세요.
수출신고필증 문서 오른쪽 하단에 Page: 1/4 형태로 페이지 번호가 있습니다.
페이지번호를 보고 해당 문서가 여러 페이지로 구성된 경우 모든 페이지를 통합해서 하나의 수출신고필증으로 인식하고 추출해주세요.

문서 내용:
{text}

"""
    
    # 페이지 번호 정보 추가
    page_info = f"**현재 페이지 번호: {page_number}**" if page_number is not None else ""
    
    return base_prompt + f"""
이 수출신고필증(갑지)에서 **다음 12개 필드만** 정확히 추출해주세요.

{page_info}

**중요: 여러 개의 수출신고필증이 있는 경우**
- 신고번호가 다른 수출신고필증은 각각 개별 문서로 취급해주세요
- 각 수출신고필증마다 페이지 번호를 반드시 포함해주세요
- 배열 형태로 각 개별 수출신고필증의 정보를 모두 출력해주세요

**추출할 필드 (12개만):**
1. 신고번호: 5번 항목 신고번호 (문서 식별자)
2. 송품장번호: 39번 항목 송품장부호
3. 일자: 7번 항목 신고일자
4. 파일명: "{file_name}"
5. 페이지번호: {page_number if page_number is not None else "실제 파일의 페이지 번호 (예: 1, 2, 3...)"}
6. 총중량: 44번 항목 총중량
7. 순중량: 36번 항목 순중량
8. 컨테이너번호: 51번 항목 컨테이너번호
9. 출발지: 14번 항목 적재항
10. 도착지: 13번 항목 목적국
11. 세번부호: 35번 항목 세번부호
12. 란번호: 27번 영역 위 헤더 품명/규격 옆 괄호 안 내용

**중요한 지침:**
1. **위 12개 필드만 추출하고, 다른 정보는 절대 포함하지 마세요**
2. 신고번호가 다른 수출신고필증은 각각 개별 문서로 처리
3. 각 문서마다 페이지 번호를 반드시 포함 (실제 파일의 페이지 번호)
4. 존재하지 않는 정보는 "정보 없음"으로 표시
5. **요청하지 않은 필드는 절대 추가하지 마세요**
6. **문서에 있는 다른 모든 정보는 무시하고 위 12개 필드만 추출하세요**
7. **추가 설명이나 주석 없이 순수한 JSON 배열만 반환하세요**
8. **각 필드명은 정확히 위에 명시된 대로 사용하세요**""" 